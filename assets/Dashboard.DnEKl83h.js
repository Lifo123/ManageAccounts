let t=[],f=(u,h)=>{let s=[],l={get(){return l.lc||l.listen(()=>{})(),l.value},l:0,lc:0,listen(n,r){return l.lc=s.push(n,r||l.l)/2,()=>{let o=s.indexOf(n);~o&&(s.splice(o,2),--l.lc||l.off())}},notify(n,r){let o=!t.length;for(let e=0;e<s.length;e+=2)t.push(s[e],s[e+1],l.value,n,r);if(o){for(let e=0;e<t.length;e+=5){let i;for(let a=e+1;!i&&(a+=5)<t.length;)t[a]<t[e+1]&&(i=t.push(t[e],t[e+1],t[e+2],t[e+3],t[e+4]));i||t[e](t[e+2],t[e+3],t[e+4])}t.length=0}},off(){},set(n){let r=l.value;r!==n&&(l.value=n,l.notify(r))},subscribe(n,r){let o=l.listen(n,r);return n(l.value),o},value:u};return l};const c=u=>JSON.parse(u),g=u=>localStorage.getItem(u),p=typeof window<"u",d=f(p?c(g("accsToken")):null),v=f([]);export{d as A,v as C,f as a,g,c as p};
