let t=[],o=(a,c)=>{let u=[],l={get(){return l.lc||l.listen(()=>{})(),l.value},l:0,lc:0,listen(n,i){return l.lc=u.push(n,i||l.l)/2,()=>{let r=u.indexOf(n);~r&&(u.splice(r,2),--l.lc||l.off())}},notify(n,i){let r=!t.length;for(let e=0;e<u.length;e+=2)t.push(u[e],u[e+1],l.value,n,i);if(r){for(let e=0;e<t.length;e+=5){let s;for(let f=e+1;!s&&(f+=5)<t.length;)t[f]<t[e+1]&&(s=t.push(t[e],t[e+1],t[e+2],t[e+3],t[e+4]));s||t[e](t[e+2],t[e+3],t[e+4])}t.length=0}},off(){},set(n){let i=l.value;i!==n&&(l.value=n,l.notify(i))},subscribe(n,i){let r=l.listen(n,i);return n(l.value),r},value:a};return l};const h=o([]),v=o([]);export{h as A,v as C,o as a};
